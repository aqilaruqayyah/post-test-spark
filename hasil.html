<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Hasil Post-Test</title>
<style>
  body {
    font-family: 'Poppins', sans-serif;
    background: #cce7ff;
    text-align: center;
    padding: 50px 20px;
  }

  .box {
    background: #ffffffcc;
    padding: 30px;
    border-radius: 20px;
    max-width: 500px;
    margin: auto;
    box-shadow: 0 8px 25px rgba(0,0,0,0.2);
  }

  h2 { color: #6a5acd; }
  p { font-size: 1.1em; margin: 15px 0; }
</style>
</head>
<body>

<div class="box">
  <h2>Proses Pengiriman Jawaban...</h2>
  <p id="status">Sedang mengirim jawaban, mohon tunggu...</p>
</div>

<script>
async function kirimJawaban() {
  const data = {
    nama: localStorage.getItem("namaSiswa"),
    soal1: localStorage.getItem("soal1"),
    soal2: localStorage.getItem("soal2"),
    soal3: localStorage.getItem("soal3"),
    soal4: localStorage.getItem("soal4")
  };

  try {
    await fetch("https://script.google.com/macros/s/AKfycbywAdDlWaPPgxAspQTs0qM0vqS9uQ7-cM1vnXHou1MpWtk2ke58AsMolX3NfU4rgZ-mAw/exec", { // ganti dengan Web App URL
      method: "POST",
      body: JSON.stringify(data),
      headers: {
        "Content-Type": "application/json"
      },
      mode: "no-cors"
    });

    document.getElementById("status").innerText = "Jawaban berhasil terkirim! Terima kasih ðŸ˜Š";

    // Bersihkan localStorage setelah submit
    localStorage.removeItem("soal1");
    localStorage.removeItem("soal2");
    localStorage.removeItem("soal3");
    localStorage.removeItem("soal4");
    localStorage.removeItem("namaSiswa");
  } catch (err) {
    document.getElementById("status").innerText = "Gagal mengirim jawaban. Coba refresh halaman.";
    console.error(err);
  }
}

// Panggil langsung saat halaman dibuka
kirimJawaban();
</script>

</body>
</html>
